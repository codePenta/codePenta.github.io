(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();class h{constructor(e,t){this.filterName=e,this.filteredContent=t}static create(e,t){return new h(e,t.filter(n=>n.language===e))}get count(){return this.filteredContent.length}}const v=class v{};v.PROJECTS_DATA_PATH="/data/projects.json";let g=v;const i=class i{};i.PROJECTS_LIST_ID="#projects-list",i.PROJECT_CARD_CLASSNAME=".project-card",i.PROJECT_CARD_HEADING=".project-card-heading",i.PROJECT_CARD_DETAILS=".project-card-details",i.PROJECT_CARD_FOOTER=".project-card-footer",i.PROJECT_AUTHOR_CLASSNAME=".author-img-container",i.ERROR_NO_PROJECTS_CLASSNAME=".no-projects-message",i.OBSERVER_PROJECT_SECTION="#projects";let l=i;const f=class f{};f.DEFAULT_FILTER_STATE="All";let m=f;function L(o){const e=[...new Set(o.map(r=>r.language).filter(Boolean))],t=new h(m.DEFAULT_FILTER_STATE,o),n=e.map(r=>h.create(r,o));return[t,...n]}const a={projects:[],navbarLinks:[{name:"Home",href:"#home",isContentFetched:!1,ignoredByObserver:!1},{name:"Projects",href:"#projects",isContentFetched:!1,ignoredByObserver:!1}],filter:[],selectedFilter:"",previousSection:""};function b(o){a.projects=o,a.filter=L(o)}const O=(o,e)=>{if(console.log(`Error: ${e}`),o){const t=o;t.textContent="No projects available at the moment. Please check back later!",t.className="error-message",t.innerHTML=`Failed loading data ${e}`}},P=(o,e)=>{b([]),O(o,e)},u=o=>o.substring(1,o.length),N=o=>document.querySelector(o);class S{createProjectCard(e){const t=this.buildHeader(e),n=this.buildContent(e),r=this.buildFooter(e);return this.buildCard(t,n,r)}buildCard(...e){const t=document.createElement("div");return t.className=u(l.PROJECT_CARD_CLASSNAME),t.append(...e),t}buildHeader(e){const t=document.createElement("div");t.className=u(l.PROJECT_CARD_HEADING);const n=document.createElement("h2");n.textContent=e.name;const r=document.createElement("div");r.className="languageContainer";const s=document.createElement("img");return s.src=`${e.languageIconUrl}`,s.alt=e.language,r.append(s),t.append(n,r),t}buildContent(e){const t=document.createElement("div");t.className=u(l.PROJECT_CARD_DETAILS);const n=document.createElement("p");return n.textContent=e.description,t.append(n),t}buildFooter(e){const t=document.createElement("div");t.className=u(l.PROJECT_CARD_FOOTER);const n=document.createElement("a");n.href=e.url,n.target="_blank",n.rel="noopener noreferrer";const r=document.createElement("img");return r.src=`${e.versionControl}`,r.alt=e.url,r.width=40,n.append(r),t.append(n),t}}class p{renderProjectList(e){const t=N(l.PROJECTS_LIST_ID);return t.innerHTML="",(!e.projects||e.projects.length===0)&&this.showError(t),this.renderProjects(e,t),t}renderProjects(e,t){const n=document.createDocumentFragment();for(const r of e.projects){const c=new S().createProjectCard(r);n.appendChild(c)}t.appendChild(n)}showError(e){const t=document.createElement("p");t.textContent="No projects available at the moment. Please check back later!",t.className=u(l.ERROR_NO_PROJECTS_CLASSNAME),e.appendChild(t)}}class C{createNavLink(e){const t=document.createElement("li"),n=document.createElement("a");return n.textContent=e.name,n.href=e.href,e.ignoredByObserver&&this.setupNavLinkForUserClick(n),t.appendChild(n),t}renderNavLink(e,t){const n=document.createElement("li"),r=document.createElement("a");r.textContent=t.name,r.href=t.href,t.isContentFetched||r.classList.add("fetched"),t.ignoredByObserver&&this.setupNavLinkForUserClick(r),n.appendChild(r),e.appendChild(n)}setupNavLinkForUserClick(e){e.addEventListener("click",t=>this.handleClick(t))}handleClick(e){if(e.preventDefault(),a.selectedFilter=e.target.innerText,a.selectedFilter==="All"){new p().renderProjectList({projects:a.projects});return}const t=a.projects.filter(this.isProjectInFilter);new p().renderProjectList({projects:t})}isProjectInFilter(e){var t=e.language===a.selectedFilter;return t}}class j{constructor(){this.getNameOfPreviousSection=e=>e.charAt(0).toUpperCase()+e.slice(1)}async loadProjectsIntoNavbar(){this.renderNavbar(a.filter.map(e=>({href:e.filterName,name:e.filterName,isContentFetched:!1,ignoredByObserver:!0})),!0,!0)}unloadProjectsFromNavbar(){this.renderNavbar(a.navbarLinks)}renderNavbar(e,t,n){const r=N("nav ul");r.innerHTML="";const s=document.createDocumentFragment();if(e.forEach(d=>{new C().renderNavLink(s,{name:d.name,href:d.href,isContentFetched:!1,ignoredByObserver:d.ignoredByObserver})}),t){var c=new C;const d=document.createDocumentFragment();c.renderNavLink(d,{name:this.getNameOfPreviousSection(a.previousSection),href:"#",isContentFetched:!0,ignoredByObserver:!1}),console.log(a.previousSection),r.appendChild(d)}r.appendChild(s)}}class w{constructor(){this.previousEntryId="",this.options={threshold:.5},this.sections=[l.OBSERVER_PROJECT_SECTION],this.callback=(e,t)=>{e.forEach(n=>{if(n.isIntersecting){const r=n.target.id;a.previousSection=this.previousEntryId,r!==this.previousEntryId&&(this.sections.includes(`#${r}`)?(this.navContentProvider.loadProjectsIntoNavbar(),window.history.pushState(n.target.textContent,"Title",`#${n.target.id}`)):(this.navContentProvider.unloadProjectsFromNavbar(),window.history.pushState(n.target.textContent,"Title","/")),this.previousEntryId=r)}})},this.scrollObserver=new IntersectionObserver(this.callback,this.options),this.navContentProvider=new j}get get(){return this.scrollObserver}observeSections(){document.querySelectorAll("section").forEach(e=>{this.get.observe(e)})}}class I{createNavbar(e){const t=new C,n=document.createElement("ul"),r=document.createDocumentFragment();return e.links.forEach(s=>{r.appendChild(t.createNavLink(s))}),n.appendChild(r),n}}const F="/assets/icons/programming/cpp.svg",R="/assets/icons/programming/csharp.svg",A="/assets/icons/programming/dart.svg",T="/assets/icons/programming/java.svg",y="/assets/icons/programming/processing.svg",_="/assets/icons/programming/python.svg",D="/assets/icons/programming/typescript.svg",k={cpp:F,csharp:R,dart:A,java:T,"not specified":"/assets/icons/programming/not specified.svg",processing:y,python:_,typescript:D},M="/assets/icons/versionControl/github.svg",J={github:M};class H{constructor(){this.availableLanguages=[],this.languageIconMap=k,this.versionControlIcanMap=J}getLanguageIconUrl(e){if(this.languageIconMap===void 0)throw new Error(`No icon found for language ${e}`);return this.languageIconMap[e.toLowerCase()]}getVersionControlIconUrl(e){if(this.versionControlIcanMap===void 0)throw new Error(`No icon found for language ${e}`);return this.versionControlIcanMap[this.getDomainFromVersionControl(e)]}hasIconForLanguage(e){return new Set(this.availableLanguages).has(e.toLowerCase)}getDomainFromVersionControl(e){let t=new URL(e).host;return t.substring(0,t.indexOf("."))}}function U(o){const e=new H,t={"C#":"csharp","C++":"cpp"};return o.map(r=>{const s=r.language??"Not specified",c=t[s]||s;return{name:r.name,description:r.description??"No description available.",url:r.url,imageUrl:r.image??"No avatar available.",language:s,languageIconUrl:e.getLanguageIconUrl(c),versionControl:e.getVersionControlIconUrl(r.url)}})}async function x(){try{const o=await fetch(g.PROJECTS_DATA_PATH);if(!o.ok)throw new Error(`Failed to load projects.json: ${o.status} ${o.statusText}`);const e=await o.json();return U(e)}catch(o){throw console.error("Error fetching projects from local JSON:",o),o}}const B=document.querySelector("nav"),E=document.querySelector("#projects-list");class ${constructor(){this.observer=new w,this.navbar=new I}async initialize(){console.log("Initializing application...");try{await this.renderPageContents(E,B),this.observer.observeSections()}catch(e){P(E,e)}console.log("Application initialized.")}async renderPageContents(e,t){const n=await x();b(n),e&&this.renderProjects(e),t&&this.buildNavbar(t)}async renderProjects(e){for(e.innerHTML="<p>Loading projects...</p>";e.firstChild;)e.removeChild(e.firstChild);new p().renderProjectList({projects:a.projects})}async buildNavbar(e){for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(this.navbar.createNavbar({links:a.navbarLinks}))}}document.addEventListener("DOMContentLoaded",()=>new $().initialize());
//# sourceMappingURL=index-DN8VR349.js.map
